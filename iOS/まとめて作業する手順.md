# クラウドMacでまとめて作業する手順

時間課金のクラウドMacを効率的に使うための手順です。

## 作業の流れ

### セッション1: フェーズAの動作確認（30分）

**目標**: 基本的な入力→送信→結果表示が動くことを確認

1. Xcodeプロジェクトを作成（5分）
2. コードをコピー（10分）
3. 設定（5分）
4. ビルドとテスト（10分）

**完了条件**: アプリが起動し、入力画面でデータを送信して結果が表示される

### セッション2: HealthKit実装（1時間）

**目標**: HealthKitからデータを取得できるようにする

1. HealthKitServiceの実装を完成（30分）
   - `HealthKit実装詳細.md` を参照
   - 各メソッドを実装
2. 実機でテスト（20分）
   - iPhoneを接続
   - HealthKitのアクセス許可を確認
   - データ取得をテスト
3. エラー修正（10分）

**完了条件**: HealthKitからデータが取得でき、GASに送信される

### セッション3: LINE通知とReboot（30分）

**目標**: LINE通知とReboot UIが動作することを確認

1. LINE Notifyトークンを設定（5分）
   - 設定画面でトークンを入力
2. LINE通知をテスト（10分）
   - 日次通知をテスト
   - Orange以上で即時通知をテスト
3. Reboot UIをテスト（10分）
   - Rebootが必要な状態でテスト
   - 各アクションボタンをテスト
4. エラー修正（5分）

**完了条件**: LINE通知が送信され、Reboot UIが表示される

## 事前準備（Windows環境）

### ✅ 完了済み

- [x] すべてのコードファイルの準備
- [x] ドキュメントの整備
- [x] 実装ガイドの作成

### Mac環境で必要なもの

1. **クラウドMacへのアクセス**
2. **コードファイルの転送方法**
   - クラウドストレージ（iCloud、Google Driveなど）
   - または、GitHub/GitLabにプッシュ

## 効率的な進め方

### 1. まずは最小限の動作確認

フェーズAだけ動作確認して、基本的な流れが動くことを確認します。

### 2. HealthKitは別セッションで

HealthKitは実機が必要なので、まとめて実装します。

### 3. LINE通知とRebootは最後

基本機能が動いてから、通知機能を追加します。

## トラブルシューティング

### ビルドエラーが出た場合

1. エラーメッセージを確認
2. ファイルが正しく追加されているか確認
3. 依存関係を確認
4. 必要に応じて、エラーメッセージを共有してください

### ネットワークエラーが出た場合

1. GASエンドポイントURLが正しいか確認
2. インターネット接続を確認
3. GASエンドポイントが正常に動作しているか確認（ブラウザで `?mode=health` を確認）

### HealthKitエラーが出た場合

1. Info.plistに権限説明を追加
2. Signing & CapabilitiesでHealthKitを追加
3. 実機でテスト（シミュレーターでは動作しません）

## 次のアクション

1. クラウドMacに接続
2. `Mac環境での作業チェックリスト.md` に従って作業
3. エラーが出た場合は、エラーメッセージを共有してください

---

**この手順に従って進めれば、効率的に作業できます！**

